"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6354],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>m});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=n.createContext({}),d=function(e){var t=n.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=d(e.components);return n.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=d(r),m=a,h=c["".concat(o,".").concat(m)]||c[m]||u[m]||i;return r?n.createElement(h,l(l({ref:t},p),{},{components:r})):n.createElement(h,l({ref:t},p))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,l=new Array(i);l[0]=c;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var d=2;d<i;d++)l[d]=r[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"},6935:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=r(7462),a=(r(7294),r(3905));const i={slug:"Chapter 1. UNIX System Overview"},l="Chapter 1. UNIX System Overview",s={unversionedId:"TOC/system/apue/ch01",id:"TOC/system/apue/ch01",title:"Chapter 1. UNIX System Overview",description:"1.1 Introduction",source:"@site/docs/TOC/system/apue/ch01.md",sourceDirName:"TOC/system/apue",slug:"/TOC/system/apue/Chapter 1. UNIX System Overview",permalink:"/docs/TOC/system/apue/Chapter 1. UNIX System Overview",draft:!1,tags:[],version:"current",frontMatter:{slug:"Chapter 1. UNIX System Overview"},sidebar:"tutorialSidebar",previous:{title:"Advanced Programming in the Unix Environment",permalink:"/docs/category/advanced-programming-in-the-unix-environment"},next:{title:"Chapter 2. UNIX Standardization and Implementations",permalink:"/docs/TOC/system/apue/ch02"}},o={},d=[{value:"1.1 Introduction",id:"11-introduction",level:2},{value:"1.2 UNIX Architecture",id:"12-unix-architecture",level:2},{value:"1.3 Logging in",id:"13-logging-in",level:2},{value:"Login Name",id:"login-name",level:3},{value:"Shells",id:"shells",level:3},{value:"1.4 Files and Descriptors",id:"14-files-and-descriptors",level:2},{value:"File System",id:"file-system",level:3},{value:"Filename",id:"filename",level:3},{value:"Pathname",id:"pathname",level:3},{value:"Working Directory",id:"working-directory",level:3},{value:"Home Directory",id:"home-directory",level:3},{value:"1.5 Input and Output",id:"15-input-and-output",level:2},{value:"File Descriptors",id:"file-descriptors",level:3},{value:"Standard Input, Standard Output, and Standard Error",id:"standard-input-standard-output-and-standard-error",level:3},{value:"Unbuffered I/O",id:"unbuffered-io",level:3},{value:"Standard I/O",id:"standard-io",level:3},{value:"1.6 Program and Processes",id:"16-program-and-processes",level:2},{value:"Program",id:"program",level:3},{value:"Processes and Process ID",id:"processes-and-process-id",level:3},{value:"Process Control",id:"process-control",level:3},{value:"Threads and Thread IDs",id:"threads-and-thread-ids",level:3},{value:"1.7 Error Handling",id:"17-error-handling",level:2},{value:"Error Recovery",id:"error-recovery",level:3},{value:"1.8 User Identification",id:"18-user-identification",level:2},{value:"User ID",id:"user-id",level:3},{value:"Group ID",id:"group-id",level:3},{value:"Supplementary Group IDs",id:"supplementary-group-ids",level:3},{value:"1.9 Signals",id:"19-signals",level:3},{value:"1.10 Time Values",id:"110-time-values",level:3},{value:"1.11 System calls and Library Functions",id:"111-system-calls-and-library-functions",level:2}],p={toc:d};function u(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"chapter-1-unix-system-overview"},"Chapter 1. UNIX System Overview"),(0,a.kt)("h2",{id:"11-introduction"},"1.1 Introduction"),(0,a.kt)("p",null,"operating system provide services for programs running."),(0,a.kt)("h2",{id:"12-unix-architecture"},"1.2 UNIX Architecture"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"kernel: control hardware resources of the computer and provides and environment under which program can run"),(0,a.kt)("li",{parentName:"ul"},"system calls: the interface to the kernel"),(0,a.kt)("li",{parentName:"ul"},"library routines: libraries of common functions are built on the top of the system call"),(0,a.kt)("li",{parentName:"ul"},"shell: special application tha provides an interface for running other applications")),(0,a.kt)("div",{style:{textAlign:"center"}},(0,a.kt)("img",{src:r(5765).Z}),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Figure 1.1  Architecture of the UNIX operating system"))),(0,a.kt)("h2",{id:"13-logging-in"},"1.3 Logging in"),(0,a.kt)("h3",{id:"login-name"},"Login Name"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"etc/passwd")," stored user infomation"),(0,a.kt)("h3",{id:"shells"},"Shells"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"01fig02",src:r(732).Z,width:"684",height:"130"})),(0,a.kt)("h2",{id:"14-files-and-descriptors"},"1.4 Files and Descriptors"),(0,a.kt)("h3",{id:"file-system"},"File System"),(0,a.kt)("p",null,"The UNIX file system is a hierarchical arrangement of directories and files."),(0,a.kt)("h3",{id:"filename"},"Filename"),(0,a.kt)("p",null,"the names in a directory"),(0,a.kt)("h3",{id:"pathname"},"Pathname"),(0,a.kt)("p",null,"a sequence of one or more filenames, separated by slashes and optionally startting with a slash."),(0,a.kt)("h3",{id:"working-directory"},"Working Directory"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Every process")," has a ",(0,a.kt)("em",{parentName:"p"},"working directory"),", sometimes called the ",(0,a.kt)("strong",{parentName:"p"},"_current")," working directory_."),(0,a.kt)("h3",{id:"home-directory"},"Home Directory"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"login")," directory"),(0,a.kt)("h2",{id:"15-input-and-output"},"1.5 Input and Output"),(0,a.kt)("h3",{id:"file-descriptors"},"File Descriptors"),(0,a.kt)("p",null,"small non-negative integers that the kernel uses to identify the files accessed by a process."),(0,a.kt)("h3",{id:"standard-input-standard-output-and-standard-error"},"Standard Input, Standard Output, and Standard Error"),(0,a.kt)("p",null,"fd equal to 0, 1, 2"),(0,a.kt)("h3",{id:"unbuffered-io"},"Unbuffered I/O"),(0,a.kt)("p",null,"Unbuffered I/O is provided by the functions ",(0,a.kt)("inlineCode",{parentName:"p"},"open"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"read"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"write"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"lseek"),", and ",(0,a.kt)("inlineCode",{parentName:"p"},"close"),"."),(0,a.kt)("h3",{id:"standard-io"},"Standard I/O"),(0,a.kt)("p",null,"provide a buffered interface to unbuffered I/O functions."),(0,a.kt)("h2",{id:"16-program-and-processes"},"1.6 Program and Processes"),(0,a.kt)("h3",{id:"program"},"Program"),(0,a.kt)("p",null,"A /program/ is an executable file residing on disk in a directory."),(0,a.kt)("h3",{id:"processes-and-process-id"},"Processes and Process ID"),(0,a.kt)("p",null,"An executing instance of a program "),(0,a.kt)("h3",{id:"process-control"},"Process Control"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Create: ",(0,a.kt)("inlineCode",{parentName:"li"},"fork"),","),(0,a.kt)("li",{parentName:"ul"},"Running: ",(0,a.kt)("inlineCode",{parentName:"li"},"exec"),","),(0,a.kt)("li",{parentName:"ul"},"Waiting: ",(0,a.kt)("inlineCode",{parentName:"li"},"waitpid"),".")),(0,a.kt)("h3",{id:"threads-and-thread-ids"},"Threads and Thread IDs"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"All threads withina process share the same address space, file descriptors, stacks, and process-related attributes.")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Each thread executes on its own stack, although any thread can ",(0,a.kt)("strong",{parentName:"em"},"access")," the stacks of other threads in the same process.")),(0,a.kt)("h2",{id:"17-error-handling"},"1.7 Error Handling"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"<errno.h>")),(0,a.kt)("p",null,"supports ",(0,a.kt)("em",{parentName:"p"},"multithread")," access to errno by defining it as:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},"extern int *__errno_location(void);\n#define errno (*__errno_location())\n")),(0,a.kt)("h3",{id:"error-recovery"},"Error Recovery"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"nonfatal: most nonfatal errors are temporary."),(0,a.kt)("li",{parentName:"ul"},"fatal: no recovery action.")),(0,a.kt)("p",null,"typical recovery action for a resource-related nonfatal error is to delay and retry later."),(0,a.kt)("h2",{id:"18-user-identification"},"1.8 User Identification"),(0,a.kt)("h3",{id:"user-id"},"User ID"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"passwd")," file, a numeric value that identifies user to the system."),(0,a.kt)("h3",{id:"group-id"},"Group ID"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"passwd")," file, a numeric value that identifies group to the system."),(0,a.kt)("h3",{id:"supplementary-group-ids"},"Supplementary Group IDs"),(0,a.kt)("p",null,"a user belongs to other groups"),(0,a.kt)("h3",{id:"19-signals"},"1.9 Signals"),(0,a.kt)("p",null,"a technique used to notify other processes "),(0,a.kt)("h3",{id:"110-time-values"},"1.10 Time Values"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Calendar time. counts the number of seconds since the Epoch: 1970-1-1 00:00:00"),(0,a.kt)("li",{parentName:"ol"},"Process time. measures the central processor resources used by a process.")),(0,a.kt)("h2",{id:"111-system-calls-and-library-functions"},"1.11 System calls and Library Functions"),(0,a.kt)("h3",{id:""}),(0,a.kt)("div",{style:{textAlign:"center"}},(0,a.kt)("img",{src:r(8595).Z}),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Figure 1.11 Separation of malloc function and sbrk system call"))),(0,a.kt)("p",null,"  system call in the kernel ",(0,a.kt)("em",{parentName:"p"},"allocate")," an additional chunk of space on behalf of the process.\nthe malloc library function ",(0,a.kt)("em",{parentName:"p"},"manages")," this space from user level."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("div",{style:{textAlign:"center"}},(0,a.kt)("img",{src:r(5850).Z}),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Figure 1.12 Difference between C library functions and system calls"))))}u.isMDXComponent=!0},5765:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/01fig01-c851671ad1f22ed8c1400463d1c72d2e.jpg"},8595:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/01fig11-3d3091b0bd40f6608f0b43b6d49505f6.jpg"},5850:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/01fig12-5ac576b0bb620acc8919c326384b3f54.jpg"},732:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/01fig02-b3270edd1ac4d20e9770044fe4283943.jpg"}}]);